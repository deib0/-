{"mappings":"AAAA,MAAMA,EAAIC,aAAaC,QAAQ,KACzBC,QAAUC,KAAKC,MAAML,GACrBM,QAAUH,SAAW,CAAC,CAAEI,KAAM,IAAKC,IAAK,gCAAkC,CAAED,KAAM,IAAKC,IAAK,gBAClG,IAAIC,UAAYC,EAAE,aACdC,QAAUF,UAAUG,KAAK,WACX,MAAZC,YAAeL,GACVA,EAAIM,QAAQ,WAAY,IAC1BA,QAAQ,UAAW,IACnBA,QAAQ,OAAQ,IAChBA,QAAO,OAAS,IAGnBC,OAAS,KACXN,UAAUG,KAAK,iBAAiBI,SAChCV,QAAQW,SAAQ,CAACC,EAAMC,KACnB,MAAMC,EAAMV,EAAE,qKASZQ,EAAAX,4CACcM,YAAkBK,EAAAV,oDAEtBG,WACRU,GAAA,SAAQ,KACVC,OAAAC,KAAAL,EAAAV,QAETY,EAAAC,GAAA,QAAA,WAAAG,IACOA,EAAAC,kBACNnB,QAAiBoB,OAAOP,EAAQ,GACtBJ,yCAI+CM,GAAA,SAAA,KACvD,IAAAM,EAAWC,OAAM,eACG,IAApBD,EAAQE,QAAI,UAAQF,EAAA,WAAAA,GACpBrB,QAAQwB,KAAA,CACVvB,KAAAM,YAAAc,GAAA,GACFnB,IAAAmB,IAEII,QAAMC,IAAML,GACZI,QAAAC,IAAY1B,SACfS","sources":["src/main.js"],"sourcesContent":["const x = localStorage.getItem('x')\r\nconst xObject = JSON.parse(x)\r\nconst hashMap = xObject || [{ logo: 'D', url: 'developer.mozilla.org/zh-CN/' }, { logo: 'R', url: 'runoob.com/' }]\r\nlet $siteList = $('.siteList')\r\nlet $lastLi = $siteList.find('li.last')//  选择类名last的li返回元素\r\nconst simplifyUrl = (url) => {  //  简化网址\r\n    return url.replace('https://', '')\r\n        .replace('http://', '')\r\n        .replace('www.', '')\r\n        .replace(/\\/.*/, '')  //  正则表达式\r\n}\r\n//  渲染函数\r\nconst render = () => {\r\n    $siteList.find('li:not(.last)').remove()\r\n    hashMap.forEach((node, index) => {\r\n        const $li = $(`\r\n        <li><div class=\"site\">\r\n        <div class=\"delete\"><svg class=\"icon\"><use xlink:href=\"#icon-delete\"></use></svg></div>\r\n        <div class=\"site_logo\">${node.logo}</div>\r\n        <p class=\"site_link\">${simplifyUrl(node.url)}</p>\r\n    </div></li>\r\n        `).insertBefore($lastLi)\r\n        $li.on('click', () => {   //  删除功能\r\n            window.open(node.url)\r\n        })\r\n        $li.on('click', '.delete', (e) => {\r\n            e.stopPropagation()\r\n            hashMap.splice(index, 1)\r\n            render()\r\n        })\r\n    })\r\n}\r\nrender()\r\n$('.addButton').on('click', () => {   //  添加网址\r\n    let link = prompt('请问你要添加什么网址')\r\n    if (link.indexOf('http') === -1) {\r\n        link = 'https://' + link\r\n    }\r\n    hashMap.push({ logo: simplifyUrl(link)[0], url: link })\r\n    console.log(link)\r\n    console.log(hashMap)\r\n    render()\r\n})\r\n//  储存信息\r\nwindow.onbeforeunload = () => {\r\n    const string = JSON.stringify(hashMap)\r\n    localStorage.setItem('x', string)\r\n}\r\n\r\n"],"names":["x","localStorage","getItem","xObject","JSON","parse","hashMap","logo","url","$siteList","$","$lastLi","find","simplifyUrl","replace","render","remove","forEach","node","index","$li","on","window","open","e","stopPropagation","splice","link","prompt","indexOf","push","console","log"],"version":3,"file":"index.d9580488.js.map"}